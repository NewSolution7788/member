<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 관리 시스템</title>
</head>
<body>
    <h1>회원 관리 시스템</h1>

    <h2>회원 추가</h2>
    <form action="{{ url_for('add_member') }}" method="post" enctype="multipart/form-data">
        <label for="id">회원 ID:</label>
        <input type="text" name="id" id="id" required><br>
        <label for="name">이름:</label>
        <input type="text" name="name" id="name" required><br>
        <label for="dob">생년월일:</label>
        <input type="text" name="dob" id="dob" required><br>
        <label for="carrier">통신사:</label>
        <input type="text" name="carrier" id="carrier" required><br>
        <label for="phone">휴대폰:</label>
        <input type="text" name="phone" id="phone" required><br>
        <label for="bank_name">은행명:</label>
        <input type="text" name="bank_name" id="bank_name" required><br>
        <label for="account">계좌번호:</label>
        <input type="text" name="account" id="account" required><br>
        <label for="note">비고:</label>
        <input type="text" name="note" id="note"><br>
        <label for="image">이미지:</label>
        <input type="file" name="image" id="image"><br>
        <button type="submit">회원 추가</button>
    </form>

    <h2>엑셀 파일 업로드</h2>
    <form action="{{ url_for('upload_excel') }}" method="post" enctype="multipart/form-data">
        <label for="excel_file">엑셀 파일:</label>
        <input type="file" name="excel_file" id="excel_file" accept=".xlsx,.xls" required><br>
        <button type="submit">업로드</button>
    </form>

    <h2>회원 조회</h2>
    <form action="{{ url_for('view_member') }}" method="post">
        <label for="search_id">회원 ID:</label>
        <input type="text" name="search_id" id="search_id" required><br>
        <button type="submit">조회</button>
    </form>

    <h2>회원 목록</h2>
    <table border="1">
        <thead>
            <tr>
                <th>ID</th>
                <th>이름</th>
                <th>생년월일</th>
                <th>통신사</th>
                <th>휴대폰</th>
                <th>은행명</th>
                <th>계좌번호</th>
                <th>비고</th>
                <th>이미지</th>
            </tr>
        </thead>
        <tbody>
            {% for member_id, member in members.items() %}
            <tr>
                <td>{{ member_id }}</td>
                <td>{{ member.name }}</td>
                <td>{{ member.dob }}</td>
                <td>{{ member.carrier }}</td>
                <td>{{ member.phone }}</td>
                <td>{{ member.bank_name }}</td>
                <td>{{ member.account }}</td>
                <td>{{ member.note }}</td>
                <td>
                    {% if member.image %}
                    <img src="{{ member.image }}" alt="이미지" width="100">
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
